!function(a,b,c){function m(b,c){this.element=b,h=h=a.extend({},g,c),this._defaults=g,this._name=f,l.push(b);var d=a(b).isOnScreen();a(b).data("onScreen",d),d&&h.onWindowEnter(a(b))}var f="windows",g={snapping:!0,snapSpeed:500,snapInterval:1100,onScroll:function(){},onSnapComplete:function(){},onWindowEnter:function(){}},h={},i=a(b),j=0,k=null,l=[];a.fn.ratioVisible=function(){var a=i.scrollTop();if(!this.isOnScreen())return 0;var b=this.offset(),c=b.top-a,d=i.height(),e=(c+d)/d;return e>1&&(e=1-(e-1)),e},a.fn.isOnScreen=function(){var a=i.scrollTop(),b=i.height(),c=this.offset(),d=c.top-a;return d>=b||-b>=d?!1:!0};var n=a.fn.getCurrentWindow=function(){var b=0,c=l[0];return a.each(l,function(){var e=a(this).ratioVisible();Math.abs(e)>Math.abs(b)&&(c=a(this),b=e)}),a(c)},o=function(){j=i.scrollTop(),q(),h.onScroll(j),a.each(l,function(){var c=a(this),d=c.isOnScreen();d&&(c.data("onScreen")||h.onWindowEnter(c)),c.data("onScreen",d)})},p=function(){q()},q=function(){k&&clearTimeout(k),h.snapping&&(k=setTimeout(function(){var d=n(),e=d.offset().top,f=!1,g=a(c).scrollTop();Math.abs(g-e)<200&&a("footer").offset().top-g-a(b).innerHeight()>-80&&a(b).width()>=1280&&a("html:not(:animated),body:not(:animated)").animate({scrollTop:e},h.snapSpeed,function(){f||(k&&clearTimeout(k),k=null,f=!0,h.onSnapComplete(d))})},h.snapInterval))};a.fn[f]=function(b){return i.scroll(o),i.resize(p),this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new m(this,b))})}}(jQuery,window,document);